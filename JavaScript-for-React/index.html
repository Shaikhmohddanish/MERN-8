<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript for React - Practice Playground</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    header {
      text-align: center;
      margin-bottom: 40px;
    }
    h1 {
      color: #2c3e50;
    }
    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tab-button {
      background-color: #eee;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 4px;
      font-weight: 600;
    }
    .tab-button.active {
      background-color: #3498db;
      color: white;
    }
    .tab-content {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .tab-content.active {
      display: block;
    }
    .example-section {
      margin-bottom: 30px;
      border-bottom: 1px solid #eee;
      padding-bottom: 20px;
    }
    .example-section h3 {
      color: #2980b9;
    }
    .code-block {
      background-color: #f8f8f8;
      border-left: 4px solid #3498db;
      padding: 15px;
      margin: 10px 0;
      overflow-x: auto;
      font-family: monospace;
    }
    .result {
      background-color: #e9f7fe;
      padding: 15px;
      border-radius: 4px;
      margin-top: 10px;
    }
    .output {
      font-family: monospace;
      white-space: pre-wrap;
    }
    button {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 8px;
      font-size: 14px;
    }
    button:hover {
      background-color: #2980b9;
    }
    input, select {
      padding: 8px;
      margin-right: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .flex {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .error {
      color: #e74c3c;
      background-color: #fadbd8;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }
    .success {
      color: #27ae60;
      background-color: #d4efdf;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>JavaScript for React - Practice Playground</h1>
    <p>This playground allows you to practice and experiment with essential JavaScript concepts for React development.</p>
  </header>

  <div class="tabs">
    <button class="tab-button active" data-tab="modern-syntax">Modern Syntax</button>
    <button class="tab-button" data-tab="destructuring">Destructuring</button>
    <button class="tab-button" data-tab="spread-rest">Spread & Rest</button>
    <button class="tab-button" data-tab="array-methods">Array Methods</button>
    <button class="tab-button" data-tab="async">Async JavaScript</button>
  </div>

  <!-- Modern JavaScript Syntax Tab -->
  <div id="modern-syntax" class="tab-content active">
    <h2>Modern JavaScript Syntax</h2>

    <div class="example-section">
      <h3>let & const</h3>
      <div class="code-block">
        <pre>
// let - block-scoped, can be reassigned
let counter = 0;
counter++; // Now counter is 1

// const - block-scoped, cannot be reassigned
const API_URL = 'https://api.example.com';
// API_URL = 'new-url'; // This would cause an error

// Objects and arrays with const can still be modified
const user = { name: 'John' };
user.name = 'Jane'; // This works!
        </pre>
      </div>
      <div class="flex">
        <button id="btn-increment">Increment Counter</button>
        <button id="btn-add-property">Add Property to User</button>
      </div>
      <div class="result">
        <p>Counter: <span id="counter-value">0</span></p>
        <p>User: <span id="user-value">{ name: 'John' }</span></p>
      </div>
    </div>

    <div class="example-section">
      <h3>Template Literals</h3>
      <div class="code-block">
        <pre>
// Template literals allow string interpolation and multi-line strings
const name = 'World';
const greeting = `Hello, ${name}!`;
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="name-input" placeholder="Enter your name" value="World">
        <button id="btn-greet">Generate Greeting</button>
      </div>
      <div class="result">
        <p>Result: <span id="greeting-result">Hello, World!</span></p>
      </div>
    </div>

    <div class="example-section">
      <h3>Arrow Functions</h3>
      <div class="code-block">
        <pre>
// Traditional function
function add(a, b) {
  return a + b;
}

// Arrow function
const addArrow = (a, b) => a + b;

// Arrow functions with implicit return
const double = x => x * 2;
        </pre>
      </div>
      <div class="flex">
        <input type="number" id="num1" placeholder="Number 1" value="5">
        <input type="number" id="num2" placeholder="Number 2" value="10">
        <button id="btn-add-traditional">Add (Traditional)</button>
        <button id="btn-add-arrow">Add (Arrow)</button>
        <button id="btn-double">Double First Number</button>
      </div>
      <div class="result">
        <p>Result: <span id="function-result"></span></p>
      </div>
    </div>

    <div class="example-section">
      <h3>Enhanced Object Literals</h3>
      <div class="code-block">
        <pre>
// Property shorthand
const name = 'John';
const age = 30;
const user = { name, age };

// Method shorthand
const calculator = {
  add(a, b) {
    return a + b;
  }
};

// Computed property names
const propName = 'status';
const item = {
  id: 1,
  [propName]: 'active'
};
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="prop-name" placeholder="Property name" value="name">
        <input type="text" id="prop-value" placeholder="Property value" value="John">
        <button id="btn-create-object">Create Object</button>
      </div>
      <div class="result">
        <p>Result: <span id="object-result">{ name: 'John' }</span></p>
      </div>
    </div>
  </div>

  <!-- Destructuring Tab -->
  <div id="destructuring" class="tab-content">
    <h2>Destructuring</h2>

    <div class="example-section">
      <h3>Array Destructuring</h3>
      <div class="code-block">
        <pre>
// Basic destructuring
const [first, second, third] = ['apple', 'banana', 'cherry'];

// Skip elements
const [a, , c] = [1, 2, 3]; // a = 1, c = 3

// Rest pattern
const [leader, ...team] = ['Alice', 'Bob', 'Charlie', 'Dave'];

// Default values
const [name = 'Guest', age = 25] = ['John']; // name = 'John', age = 25
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="array-input" placeholder="Comma-separated values" value="apple,banana,cherry,date">
        <button id="btn-destructure-array">Destructure Array</button>
      </div>
      <div class="result">
        <div class="output" id="array-destructure-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Object Destructuring</h3>
      <div class="code-block">
        <pre>
// Basic destructuring
const { name, age } = { name: 'John', age: 30, job: 'Developer' };

// New variable names
const { name: userName, age: userAge } = { name: 'John', age: 30 };

// Default values
const { name = 'Guest', role = 'User' } = { name: 'John' };

// Rest pattern
const { id, ...details } = { id: 123, name: 'John', age: 30, email: 'john@example.com' };
        </pre>
      </div>
      <div class="flex">
        <select id="destructure-type">
          <option value="basic">Basic</option>
          <option value="rename">Rename Properties</option>
          <option value="defaults">Default Values</option>
          <option value="rest">Rest Pattern</option>
        </select>
        <button id="btn-destructure-object">Destructure Object</button>
      </div>
      <div class="result">
        <div class="output" id="object-destructure-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Function Parameter Destructuring</h3>
      <div class="code-block">
        <pre>
// Object parameter destructuring
function displayUser({ name, age, role = 'User' }) {
  return `Name: ${name}, Age: ${age}, Role: ${role}`;
}

displayUser({ name: 'John', age: 30 }); // "Name: John, Age: 30, Role: User"
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="user-name" placeholder="Name" value="John">
        <input type="number" id="user-age" placeholder="Age" value="30">
        <input type="text" id="user-role" placeholder="Role (optional)">
        <button id="btn-display-user">Display User</button>
      </div>
      <div class="result">
        <p>Result: <span id="param-destructure-result"></span></p>
      </div>
    </div>
  </div>

  <!-- Spread and Rest Tab -->
  <div id="spread-rest" class="tab-content">
    <h2>Spread and Rest Operators</h2>

    <div class="example-section">
      <h3>Array Spread</h3>
      <div class="code-block">
        <pre>
// Combine arrays
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
const combined = [...arr1, ...arr2]; // [1, 2, 3, 4, 5, 6]

// Create a copy
const original = [1, 2, 3];
const copy = [...original];

// Add elements
const numbers = [1, 2, 3];
const withFour = [...numbers, 4]; // [1, 2, 3, 4]
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="arr1-input" placeholder="Array 1 (comma-separated)" value="1,2,3">
        <input type="text" id="arr2-input" placeholder="Array 2 (comma-separated)" value="4,5,6">
        <select id="array-spread-operation">
          <option value="combine">Combine Arrays</option>
          <option value="copy">Copy Array</option>
          <option value="add">Add Element</option>
        </select>
        <button id="btn-array-spread">Perform Spread</button>
      </div>
      <div class="result">
        <div class="output" id="array-spread-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Object Spread</h3>
      <div class="code-block">
        <pre>
// Combine objects
const defaults = { theme: 'light', fontSize: 16 };
const userPrefs = { fontSize: 20 };
const settings = { ...defaults, ...userPrefs }; // { theme: 'light', fontSize: 20 }

// Add new properties
const user = { name: 'John', age: 30 };
const userWithEmail = { ...user, email: 'john@example.com' };
        </pre>
      </div>
      <div class="flex">
        <select id="object-spread-operation">
          <option value="combine">Combine Objects</option>
          <option value="add">Add Property</option>
          <option value="override">Override Property</option>
        </select>
        <button id="btn-object-spread">Perform Spread</button>
      </div>
      <div class="result">
        <div class="output" id="object-spread-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Rest Parameter</h3>
      <div class="code-block">
        <pre>
// Rest parameters in functions
function sum(...numbers) {
  return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3, 4, 5)); // 15

// Rest with named parameters
function processUser(name, email, ...otherDetails) {
  return { name, email, details: otherDetails };
}
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="rest-input" placeholder="Numbers (comma-separated)" value="1,2,3,4,5">
        <button id="btn-rest-sum">Calculate Sum</button>
        <button id="btn-process-user">Process User</button>
      </div>
      <div class="result">
        <div class="output" id="rest-parameter-output"></div>
      </div>
    </div>
  </div>

  <!-- Array Methods Tab -->
  <div id="array-methods" class="tab-content">
    <h2>Array Methods</h2>

    <div class="example-section">
      <h3>map, filter, reduce</h3>
      <div class="code-block">
        <pre>
// map - transform each element
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(num => num * 2);

// filter - keep elements that pass the test
const evens = numbers.filter(num => num % 2 === 0);

// reduce - accumulate a single value
const sum = numbers.reduce((total, num) => total + num, 0);
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="array-methods-input" placeholder="Numbers (comma-separated)" value="1,2,3,4,5">
        <select id="array-method">
          <option value="map">map (double)</option>
          <option value="filter">filter (even)</option>
          <option value="reduce">reduce (sum)</option>
        </select>
        <button id="btn-array-method">Execute</button>
      </div>
      <div class="result">
        <div class="output" id="array-methods-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>find, findIndex, some, every</h3>
      <div class="code-block">
        <pre>
const users = [
  { id: 1, name: 'John', active: true },
  { id: 2, name: 'Jane', active: false },
  { id: 3, name: 'Bob', active: true }
];

// find - get first matching element
const john = users.find(user => user.name === 'John');

// findIndex - get index of first match
const janeIndex = users.findIndex(user => user.name === 'Jane');

// some - check if at least one element passes test
const hasInactive = users.some(user => !user.active);

// every - check if all elements pass test
const allActive = users.every(user => user.active);
        </pre>
      </div>
      <div class="flex">
        <select id="search-method">
          <option value="find">find</option>
          <option value="findIndex">findIndex</option>
          <option value="some">some</option>
          <option value="every">every</option>
        </select>
        <select id="search-property">
          <option value="name">By Name</option>
          <option value="active">By Active Status</option>
        </select>
        <input type="text" id="search-value" placeholder="Search value" value="John">
        <button id="btn-search-method">Search</button>
      </div>
      <div class="result">
        <div class="output" id="search-methods-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Chaining Array Methods</h3>
      <div class="code-block">
        <pre>
const products = [
  { id: 1, name: 'Laptop', price: 1000, inStock: true },
  { id: 2, name: 'Phone', price: 800, inStock: true },
  { id: 3, name: 'Tablet', price: 500, inStock: false },
  { id: 4, name: 'Watch', price: 300, inStock: true }
];

// Chaining methods
const availableProductNames = products
  .filter(product => product.inStock)
  .map(product => product.name);

// More complex chaining
const totalAvailableValue = products
  .filter(product => product.inStock)
  .reduce((total, product) => total + product.price, 0);
        </pre>
      </div>
      <div class="flex">
        <select id="chain-operation">
          <option value="names">Get Available Product Names</option>
          <option value="total">Calculate Total Available Value</option>
          <option value="expensive">Get Expensive Available Products</option>
        </select>
        <button id="btn-chain-methods">Execute Chain</button>
      </div>
      <div class="result">
        <div class="output" id="chain-methods-output"></div>
      </div>
    </div>
  </div>

  <!-- Async JavaScript Tab -->
  <div id="async" class="tab-content">
    <h2>Async JavaScript</h2>

    <div class="example-section">
      <h3>Promises</h3>
      <div class="code-block">
        <pre>
// Creating a promise
const myPromise = new Promise((resolve, reject) => {
  setTimeout(() => {
    const success = Math.random() > 0.3;
    if (success) {
      resolve('Operation successful!');
    } else {
      reject(new Error('Operation failed!'));
    }
  }, 1000);
});

// Using the promise
myPromise
  .then(result => console.log(result))
  .catch(error => console.error(error))
  .finally(() => console.log('Promise settled'));
        </pre>
      </div>
      <div class="flex">
        <button id="btn-create-promise">Create & Execute Promise</button>
      </div>
      <div class="result">
        <div class="output" id="promise-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Async/Await</h3>
      <div class="code-block">
        <pre>
// Function using async/await
async function fetchUser(id) {
  try {
    const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`);
    
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('Fetching user failed:', error);
    throw error;
  }
}

// Using the async function
fetchUser(1)
  .then(user => console.log(user))
  .catch(error => console.error(error));
        </pre>
      </div>
      <div class="flex">
        <input type="number" id="user-id-input" placeholder="User ID" value="1" min="1" max="10">
        <button id="btn-fetch-user">Fetch User</button>
      </div>
      <div class="result">
        <div class="output" id="async-await-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Fetch API</h3>
      <div class="code-block">
        <pre>
// GET request
fetch('https://jsonplaceholder.typicode.com/posts')
  .then(response => response.json())
  .then(posts => console.log(posts))
  .catch(error => console.error('Error:', error));

// POST request
fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    title: 'New Post',
    body: 'This is the content of the new post',
    userId: 1,
  }),
})
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
        </pre>
      </div>
      <div class="flex">
        <select id="request-type">
          <option value="get">GET</option>
          <option value="post">POST</option>
        </select>
        <select id="resource-type">
          <option value="posts">Posts</option>
          <option value="users">Users</option>
          <option value="comments">Comments</option>
        </select>
        <button id="btn-fetch-request">Execute Request</button>
      </div>
      <div class="result">
        <div class="output" id="fetch-output"></div>
      </div>
    </div>

    <div class="example-section">
      <h3>Error Handling</h3>
      <div class="code-block">
        <pre>
// Comprehensive error handling with async/await
async function fetchWithErrorHandling(url) {
  try {
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    if (error instanceof TypeError && error.message.includes('NetworkError')) {
      console.error('Network error - check your connection');
    } else if (error.name === 'AbortError') {
      console.error('Request was aborted');
    } else {
      console.error(`Error: ${error.message}`);
    }
    throw error;
  }
}
        </pre>
      </div>
      <div class="flex">
        <input type="text" id="url-input" placeholder="URL" value="https://jsonplaceholder.typicode.com/posts/1">
        <button id="btn-fetch-with-error-handling">Fetch with Error Handling</button>
        <button id="btn-fetch-invalid">Fetch Invalid URL</button>
      </div>
      <div class="result">
        <div class="output" id="error-handling-output"></div>
      </div>
    </div>
  </div>

  <script>
    // Tab Switching
    document.querySelectorAll('.tab-button').forEach(button => {
      button.addEventListener('click', () => {
        // Hide all tabs
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.classList.remove('active');
        });
        
        // Remove active class from all buttons
        document.querySelectorAll('.tab-button').forEach(btn => {
          btn.classList.remove('active');
        });
        
        // Show the selected tab
        const tabId = button.dataset.tab;
        document.getElementById(tabId).classList.add('active');
        
        // Set this button as active
        button.classList.add('active');
      });
    });

    // Modern Syntax Tab
    // let & const
    let counter = 0;
    const user = { name: 'John' };
    
    document.getElementById('btn-increment').addEventListener('click', () => {
      counter++;
      document.getElementById('counter-value').textContent = counter;
    });
    
    document.getElementById('btn-add-property').addEventListener('click', () => {
      user.age = 30 + Math.floor(Math.random() * 10);
      document.getElementById('user-value').textContent = JSON.stringify(user);
    });
    
    // Template Literals
    document.getElementById('btn-greet').addEventListener('click', () => {
      const name = document.getElementById('name-input').value || 'World';
      const greeting = `Hello, ${name}!`;
      document.getElementById('greeting-result').textContent = greeting;
    });
    
    // Arrow Functions
    document.getElementById('btn-add-traditional').addEventListener('click', () => {
      const num1 = Number(document.getElementById('num1').value);
      const num2 = Number(document.getElementById('num2').value);
      
      function add(a, b) {
        return a + b;
      }
      
      document.getElementById('function-result').textContent = add(num1, num2);
    });
    
    document.getElementById('btn-add-arrow').addEventListener('click', () => {
      const num1 = Number(document.getElementById('num1').value);
      const num2 = Number(document.getElementById('num2').value);
      
      const addArrow = (a, b) => a + b;
      
      document.getElementById('function-result').textContent = addArrow(num1, num2);
    });
    
    document.getElementById('btn-double').addEventListener('click', () => {
      const num1 = Number(document.getElementById('num1').value);
      
      const double = x => x * 2;
      
      document.getElementById('function-result').textContent = double(num1);
    });
    
    // Enhanced Object Literals
    document.getElementById('btn-create-object').addEventListener('click', () => {
      const propName = document.getElementById('prop-name').value;
      const propValue = document.getElementById('prop-value').value;
      
      // Using shorthand notation
      const obj = { [propName]: propValue };
      
      document.getElementById('object-result').textContent = JSON.stringify(obj);
    });

    // Destructuring Tab
    // Array Destructuring
    document.getElementById('btn-destructure-array').addEventListener('click', () => {
      const input = document.getElementById('array-input').value;
      const array = input.split(',').map(item => item.trim());
      
      const output = document.getElementById('array-destructure-output');
      output.innerHTML = '';
      
      // Basic destructuring
      const [first, second, third, ...rest] = array;
      
      output.innerHTML += `const [first, second, third, ...rest] = ${JSON.stringify(array)};<br><br>`;
      output.innerHTML += `first: ${JSON.stringify(first)}<br>`;
      output.innerHTML += `second: ${JSON.stringify(second)}<br>`;
      output.innerHTML += `third: ${JSON.stringify(third)}<br>`;
      output.innerHTML += `rest: ${JSON.stringify(rest)}<br><br>`;
      
      // Skip elements
      const [a, , c] = array;
      output.innerHTML += `const [a, , c] = ${JSON.stringify(array)};<br>`;
      output.innerHTML += `a: ${JSON.stringify(a)}<br>`;
      output.innerHTML += `c: ${JSON.stringify(c)}<br>`;
    });
    
    // Object Destructuring
    document.getElementById('btn-destructure-object').addEventListener('click', () => {
      const user = {
        id: 123,
        name: 'John',
        age: 30,
        email: 'john@example.com',
        role: 'Developer'
      };
      
      const output = document.getElementById('object-destructure-output');
      output.innerHTML = '';
      
      const type = document.getElementById('destructure-type').value;
      
      output.innerHTML += `const user = ${JSON.stringify(user, null, 2)};<br><br>`;
      
      if (type === 'basic') {
        const { name, age, email } = user;
        output.innerHTML += `const { name, age, email } = user;<br><br>`;
        output.innerHTML += `name: ${JSON.stringify(name)}<br>`;
        output.innerHTML += `age: ${JSON.stringify(age)}<br>`;
        output.innerHTML += `email: ${JSON.stringify(email)}<br>`;
      } else if (type === 'rename') {
        const { name: userName, age: userAge, role: userRole } = user;
        output.innerHTML += `const { name: userName, age: userAge, role: userRole } = user;<br><br>`;
        output.innerHTML += `userName: ${JSON.stringify(userName)}<br>`;
        output.innerHTML += `userAge: ${JSON.stringify(userAge)}<br>`;
        output.innerHTML += `userRole: ${JSON.stringify(userRole)}<br>`;
      } else if (type === 'defaults') {
        // Create new object without role to demonstrate default
        const { name, role = 'User', status = 'Active' } = user;
        output.innerHTML += `const { name, role = 'User', status = 'Active' } = user;<br><br>`;
        output.innerHTML += `name: ${JSON.stringify(name)}<br>`;
        output.innerHTML += `role: ${JSON.stringify(role)}<br>`;
        output.innerHTML += `status: ${JSON.stringify(status)}<br>`;
      } else if (type === 'rest') {
        const { id, ...details } = user;
        output.innerHTML += `const { id, ...details } = user;<br><br>`;
        output.innerHTML += `id: ${JSON.stringify(id)}<br>`;
        output.innerHTML += `details: ${JSON.stringify(details, null, 2)}<br>`;
      }
    });
    
    // Function Parameter Destructuring
    document.getElementById('btn-display-user').addEventListener('click', () => {
      const name = document.getElementById('user-name').value;
      const age = document.getElementById('user-age').value;
      const role = document.getElementById('user-role').value;
      
      // Create user object
      const user = {
        name,
        age: Number(age)
      };
      
      if (role) {
        user.role = role;
      }
      
      // Function with destructured parameters
      function displayUser({ name, age, role = 'User' }) {
        return `Name: ${name}, Age: ${age}, Role: ${role}`;
      }
      
      document.getElementById('param-destructure-result').textContent = displayUser(user);
    });

    // Spread and Rest Tab
    // Array Spread
    document.getElementById('btn-array-spread').addEventListener('click', () => {
      const arr1Input = document.getElementById('arr1-input').value;
      const arr2Input = document.getElementById('arr2-input').value;
      
      const arr1 = arr1Input ? arr1Input.split(',').map(item => {
        const num = Number(item.trim());
        return isNaN(num) ? item.trim() : num;
      }) : [];
      
      const arr2 = arr2Input ? arr2Input.split(',').map(item => {
        const num = Number(item.trim());
        return isNaN(num) ? item.trim() : num;
      }) : [];
      
      const operation = document.getElementById('array-spread-operation').value;
      
      const output = document.getElementById('array-spread-output');
      output.innerHTML = '';
      
      if (operation === 'combine') {
        const combined = [...arr1, ...arr2];
        output.innerHTML += `const arr1 = ${JSON.stringify(arr1)};<br>`;
        output.innerHTML += `const arr2 = ${JSON.stringify(arr2)};<br>`;
        output.innerHTML += `const combined = [...arr1, ...arr2];<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(combined)}`;
      } else if (operation === 'copy') {
        const copy = [...arr1];
        output.innerHTML += `const original = ${JSON.stringify(arr1)};<br>`;
        output.innerHTML += `const copy = [...original];<br><br>`;
        output.innerHTML += `original: ${JSON.stringify(arr1)}<br>`;
        output.innerHTML += `copy: ${JSON.stringify(copy)}<br><br>`;
        
        // Modify copy to show independence
        if (copy.length > 0) {
          copy[0] = typeof copy[0] === 'number' ? copy[0] * 2 : copy[0] + ' (modified)';
          output.innerHTML += `// After modifying the copy:<br>`;
          output.innerHTML += `copy[0] = ${JSON.stringify(copy[0])};<br><br>`;
          output.innerHTML += `original: ${JSON.stringify(arr1)}<br>`;
          output.innerHTML += `copy: ${JSON.stringify(copy)}`;
        }
      } else if (operation === 'add') {
        const withNewElement = [...arr1, 'New Element'];
        output.innerHTML += `const array = ${JSON.stringify(arr1)};<br>`;
        output.innerHTML += `const withNewElement = [...array, 'New Element'];<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(withNewElement)}`;
      }
    });
    
    // Object Spread
    document.getElementById('btn-object-spread').addEventListener('click', () => {
      const operation = document.getElementById('object-spread-operation').value;
      
      const output = document.getElementById('object-spread-output');
      output.innerHTML = '';
      
      if (operation === 'combine') {
        const defaults = { theme: 'light', fontSize: 16, showSidebar: true };
        const userPrefs = { fontSize: 20, language: 'en' };
        
        const settings = { ...defaults, ...userPrefs };
        
        output.innerHTML += `const defaults = ${JSON.stringify(defaults, null, 2)};<br>`;
        output.innerHTML += `const userPrefs = ${JSON.stringify(userPrefs, null, 2)};<br>`;
        output.innerHTML += `const settings = { ...defaults, ...userPrefs };<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(settings, null, 2)}`;
      } else if (operation === 'add') {
        const user = { name: 'John', age: 30 };
        const userWithEmail = { ...user, email: 'john@example.com' };
        
        output.innerHTML += `const user = ${JSON.stringify(user)};<br>`;
        output.innerHTML += `const userWithEmail = { ...user, email: 'john@example.com' };<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(userWithEmail, null, 2)}`;
      } else if (operation === 'override') {
        const product = { name: 'Laptop', price: 999, inStock: true };
        const discountedProduct = { ...product, price: 799 };
        
        output.innerHTML += `const product = ${JSON.stringify(product)};<br>`;
        output.innerHTML += `const discountedProduct = { ...product, price: 799 };<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(discountedProduct, null, 2)}`;
      }
    });
    
    // Rest Parameter
    document.getElementById('btn-rest-sum').addEventListener('click', () => {
      const input = document.getElementById('rest-input').value;
      const numbers = input.split(',').map(num => Number(num.trim()));
      
      const output = document.getElementById('rest-parameter-output');
      output.innerHTML = '';
      
      // Function with rest parameter
      function sum(...nums) {
        return nums.reduce((total, num) => total + num, 0);
      }
      
      const result = sum(...numbers);
      
      output.innerHTML += `function sum(...numbers) {<br>`;
      output.innerHTML += `  return numbers.reduce((total, num) => total + num, 0);<br>`;
      output.innerHTML += `}<br><br>`;
      output.innerHTML += `const numbers = ${JSON.stringify(numbers)};<br>`;
      output.innerHTML += `const result = sum(...numbers);<br><br>`;
      output.innerHTML += `Result: ${result}`;
    });
    
    document.getElementById('btn-process-user').addEventListener('click', () => {
      const output = document.getElementById('rest-parameter-output');
      output.innerHTML = '';
      
      // Function with named parameters and rest
      function processUser(name, email, ...otherDetails) {
        return {
          name,
          email,
          details: otherDetails
        };
      }
      
      const result = processUser('John', 'john@example.com', 'admin', 30, 'active');
      
      output.innerHTML += `function processUser(name, email, ...otherDetails) {<br>`;
      output.innerHTML += `  return {<br>`;
      output.innerHTML += `    name,<br>`;
      output.innerHTML += `    email,<br>`;
      output.innerHTML += `    details: otherDetails<br>`;
      output.innerHTML += `  };<br>`;
      output.innerHTML += `}<br><br>`;
      output.innerHTML += `const result = processUser('John', 'john@example.com', 'admin', 30, 'active');<br><br>`;
      output.innerHTML += `Result: ${JSON.stringify(result, null, 2)}`;
    });

    // Array Methods Tab
    // map, filter, reduce
    document.getElementById('btn-array-method').addEventListener('click', () => {
      const input = document.getElementById('array-methods-input').value;
      const numbers = input.split(',').map(num => Number(num.trim()));
      
      const method = document.getElementById('array-method').value;
      
      const output = document.getElementById('array-methods-output');
      output.innerHTML = '';
      
      output.innerHTML += `const numbers = ${JSON.stringify(numbers)};<br><br>`;
      
      if (method === 'map') {
        const doubled = numbers.map(num => num * 2);
        output.innerHTML += `const doubled = numbers.map(num => num * 2);<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(doubled)}`;
      } else if (method === 'filter') {
        const evens = numbers.filter(num => num % 2 === 0);
        output.innerHTML += `const evens = numbers.filter(num => num % 2 === 0);<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(evens)}`;
      } else if (method === 'reduce') {
        const sum = numbers.reduce((total, num) => total + num, 0);
        output.innerHTML += `const sum = numbers.reduce((total, num) => total + num, 0);<br><br>`;
        output.innerHTML += `Result: ${sum}`;
      }
    });
    
    // find, findIndex, some, every
    document.getElementById('btn-search-method').addEventListener('click', () => {
      const users = [
        { id: 1, name: 'John', active: true },
        { id: 2, name: 'Jane', active: false },
        { id: 3, name: 'Bob', active: true }
      ];
      
      const method = document.getElementById('search-method').value;
      const property = document.getElementById('search-property').value;
      const value = document.getElementById('search-value').value;
      
      const output = document.getElementById('search-methods-output');
      output.innerHTML = '';
      
      output.innerHTML += `const users = ${JSON.stringify(users, null, 2)};<br><br>`;
      
      if (method === 'find') {
        if (property === 'name') {
          const found = users.find(user => user.name === value);
          output.innerHTML += `const found = users.find(user => user.name === '${value}');<br><br>`;
          output.innerHTML += `Result: ${JSON.stringify(found, null, 2)}`;
        } else {
          const isActive = value.toLowerCase() === 'true';
          const found = users.find(user => user.active === isActive);
          output.innerHTML += `const found = users.find(user => user.active === ${isActive});<br><br>`;
          output.innerHTML += `Result: ${JSON.stringify(found, null, 2)}`;
        }
      } else if (method === 'findIndex') {
        if (property === 'name') {
          const foundIndex = users.findIndex(user => user.name === value);
          output.innerHTML += `const foundIndex = users.findIndex(user => user.name === '${value}');<br><br>`;
          output.innerHTML += `Result: ${foundIndex}`;
        } else {
          const isActive = value.toLowerCase() === 'true';
          const foundIndex = users.findIndex(user => user.active === isActive);
          output.innerHTML += `const foundIndex = users.findIndex(user => user.active === ${isActive});<br><br>`;
          output.innerHTML += `Result: ${foundIndex}`;
        }
      } else if (method === 'some') {
        if (property === 'name') {
          const hasSome = users.some(user => user.name === value);
          output.innerHTML += `const hasSome = users.some(user => user.name === '${value}');<br><br>`;
          output.innerHTML += `Result: ${hasSome}`;
        } else {
          const isActive = value.toLowerCase() === 'true';
          const hasSome = users.some(user => user.active === isActive);
          output.innerHTML += `const hasSome = users.some(user => user.active === ${isActive});<br><br>`;
          output.innerHTML += `Result: ${hasSome}`;
        }
      } else if (method === 'every') {
        if (property === 'name') {
          const allMatch = users.every(user => user.name === value);
          output.innerHTML += `const allMatch = users.every(user => user.name === '${value}');<br><br>`;
          output.innerHTML += `Result: ${allMatch}`;
        } else {
          const isActive = value.toLowerCase() === 'true';
          const allMatch = users.every(user => user.active === isActive);
          output.innerHTML += `const allMatch = users.every(user => user.active === ${isActive});<br><br>`;
          output.innerHTML += `Result: ${allMatch}`;
        }
      }
    });
    
    // Chaining Array Methods
    document.getElementById('btn-chain-methods').addEventListener('click', () => {
      const products = [
        { id: 1, name: 'Laptop', price: 1000, inStock: true },
        { id: 2, name: 'Phone', price: 800, inStock: true },
        { id: 3, name: 'Tablet', price: 500, inStock: false },
        { id: 4, name: 'Watch', price: 300, inStock: true }
      ];
      
      const operation = document.getElementById('chain-operation').value;
      
      const output = document.getElementById('chain-methods-output');
      output.innerHTML = '';
      
      output.innerHTML += `const products = ${JSON.stringify(products, null, 2)};<br><br>`;
      
      if (operation === 'names') {
        const availableProductNames = products
          .filter(product => product.inStock)
          .map(product => product.name);
          
        output.innerHTML += `const availableProductNames = products<br>`;
        output.innerHTML += `  .filter(product => product.inStock)<br>`;
        output.innerHTML += `  .map(product => product.name);<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(availableProductNames, null, 2)}`;
      } else if (operation === 'total') {
        const totalAvailableValue = products
          .filter(product => product.inStock)
          .reduce((total, product) => total + product.price, 0);
          
        output.innerHTML += `const totalAvailableValue = products<br>`;
        output.innerHTML += `  .filter(product => product.inStock)<br>`;
        output.innerHTML += `  .reduce((total, product) => total + product.price, 0);<br><br>`;
        output.innerHTML += `Result: $${totalAvailableValue}`;
      } else if (operation === 'expensive') {
        const expensiveAvailableProducts = products
          .filter(product => product.inStock && product.price > 500)
          .map(product => ({ name: product.name, price: product.price }));
          
        output.innerHTML += `const expensiveAvailableProducts = products<br>`;
        output.innerHTML += `  .filter(product => product.inStock && product.price > 500)<br>`;
        output.innerHTML += `  .map(product => ({ name: product.name, price: product.price }));<br><br>`;
        output.innerHTML += `Result: ${JSON.stringify(expensiveAvailableProducts, null, 2)}`;
      }
    });

    // Async JavaScript Tab
    // Promises
    document.getElementById('btn-create-promise').addEventListener('click', () => {
      const output = document.getElementById('promise-output');
      output.innerHTML = 'Creating promise...';
      
      const myPromise = new Promise((resolve, reject) => {
        setTimeout(() => {
          const success = Math.random() > 0.3;
          if (success) {
            resolve('Operation successful!');
          } else {
            reject(new Error('Operation failed!'));
          }
        }, 1500);
      });
      
      myPromise
        .then(result => {
          output.innerHTML = `<span class="success">✓ ${result}</span>`;
        })
        .catch(error => {
          output.innerHTML = `<span class="error">✗ ${error.message}</span>`;
        })
        .finally(() => {
          output.innerHTML += '<br><br>Promise settled (finally block executed)';
        });
    });
    
    // Async/Await
    document.getElementById('btn-fetch-user').addEventListener('click', () => {
      const userId = document.getElementById('user-id-input').value;
      const output = document.getElementById('async-await-output');
      
      output.innerHTML = 'Fetching user...';
      
      async function fetchUser(id) {
        try {
          const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`);
          
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          
          return await response.json();
        } catch (error) {
          console.error('Fetching user failed:', error);
          throw error;
        }
      }
      
      fetchUser(userId)
        .then(user => {
          output.innerHTML = `<span class="success">User found:</span><br>${JSON.stringify(user, null, 2)}`;
        })
        .catch(error => {
          output.innerHTML = `<span class="error">Error fetching user: ${error.message}</span>`;
        });
    });
    
    // Fetch API
    document.getElementById('btn-fetch-request').addEventListener('click', () => {
      const requestType = document.getElementById('request-type').value;
      const resourceType = document.getElementById('resource-type').value;
      const output = document.getElementById('fetch-output');
      
      output.innerHTML = `Executing ${requestType.toUpperCase()} request...`;
      
      if (requestType === 'get') {
        fetch(`https://jsonplaceholder.typicode.com/${resourceType}?_limit=3`)
          .then(response => response.json())
          .then(data => {
            output.innerHTML = `<span class="success">Response received:</span><br>${JSON.stringify(data, null, 2)}`;
          })
          .catch(error => {
            output.innerHTML = `<span class="error">Error: ${error.message}</span>`;
          });
      } else if (requestType === 'post') {
        let postData;
        
        if (resourceType === 'posts') {
          postData = {
            title: 'New Post',
            body: 'This is the content of the new post',
            userId: 1
          };
        } else if (resourceType === 'users') {
          postData = {
            name: 'Jane Doe',
            email: 'jane@example.com',
            username: 'janedoe'
          };
        } else {
          postData = {
            postId: 1,
            name: 'Jane Doe',
            email: 'jane@example.com',
            body: 'This is a comment'
          };
        }
        
        fetch(`https://jsonplaceholder.typicode.com/${resourceType}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(postData)
        })
          .then(response => response.json())
          .then(data => {
            output.innerHTML = `<span class="success">Response received:</span><br>${JSON.stringify(data, null, 2)}`;
          })
          .catch(error => {
            output.innerHTML = `<span class="error">Error: ${error.message}</span>`;
          });
      }
    });
    
    // Error Handling
    document.getElementById('btn-fetch-with-error-handling').addEventListener('click', () => {
      const url = document.getElementById('url-input').value;
      const output = document.getElementById('error-handling-output');
      
      output.innerHTML = 'Fetching with error handling...';
      
      async function fetchWithErrorHandling(url) {
        try {
          const response = await fetch(url);
          
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          
          return await response.json();
        } catch (error) {
          if (error instanceof TypeError && error.message.includes('NetworkError')) {
            throw new Error('Network error - check your connection');
          } else {
            throw new Error(`Error: ${error.message}`);
          }
        }
      }
      
      fetchWithErrorHandling(url)
        .then(data => {
          output.innerHTML = `<span class="success">Data received:</span><br>${JSON.stringify(data, null, 2)}`;
        })
        .catch(error => {
          output.innerHTML = `<span class="error">${error.message}</span>`;
        });
    });
    
    document.getElementById('btn-fetch-invalid').addEventListener('click', () => {
      const output = document.getElementById('error-handling-output');
      
      output.innerHTML = 'Fetching invalid URL...';
      
      async function fetchWithErrorHandling(url) {
        try {
          const response = await fetch(url);
          
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          
          return await response.json();
        } catch (error) {
          if (error instanceof TypeError && error.message.includes('NetworkError')) {
            throw new Error('Network error - check your connection');
          } else {
            throw new Error(`Error: ${error.message}`);
          }
        }
      }
      
      fetchWithErrorHandling('https://invalid-url-that-does-not-exist.com/data')
        .then(data => {
          output.innerHTML = `<span class="success">Data received:</span><br>${JSON.stringify(data, null, 2)}`;
        })
        .catch(error => {
          output.innerHTML = `<span class="error">${error.message}</span>`;
        });
    });
  </script>
</body>
</html>
